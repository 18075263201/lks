<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登录 - 光影同行</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#E9446A',
                        secondary: '#4A6FA5',
                        dark: '#222831',
                        light: '#F8F9FA'
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .fade-in {
                animation: fadeIn 0.8s ease forwards;
            }
            .slide-up {
                animation: slideUp 0.6s ease forwards;
            }
            .pulse {
                animation: pulse 2s infinite;
            }
            .bg-gradient-login {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(30px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body class="font-inter bg-light text-dark min-h-screen">
    <!-- 登录页面容器 -->
    <div class="min-h-screen flex flex-col md:flex-row">
        <!-- 左侧图片区域 -->
        <div class="hidden md:flex md:w-1/2 bg-gradient-login p-8 justify-center items-center">
            <div class="text-white text-center max-w-lg">
                <a href="index.html" class="inline-flex items-center space-x-2 group mb-12">
                    <i class="fa fa-camera-retro text-white text-3xl group-hover:rotate-12 transition-transform duration-300"></i>
                    <span class="text-2xl font-bold text-white">光影同行</span>
                </a>
                <h1 class="text-4xl md:text-5xl font-bold mb-6 opacity-0 slide-up" style="animation-delay: 0.3s">
                    欢迎回来
                </h1>
                <p class="text-xl mb-8 opacity-0 slide-up" style="animation-delay: 0.6s">
                    登录后查看和管理您的专属照片库
                </p>
                <img src="https://youke1.picui.cn/s1/2025/09/20/68ce905f4d864.jpg" alt="登录背景图" class="rounded-xl shadow-2xl opacity-0 fade-in" style="animation-delay: 0.9s; max-width: 100%; height: auto;">
            </div>
        </div>
        
        <!-- 右侧登录表单区域 -->
        <div class="w-full md:w-1/2 p-8 md:p-12 flex flex-col justify-center">
            <div class="max-w-md mx-auto">
                <!-- 移动端Logo -->
                <a href="index.html" class="flex items-center space-x-2 group mb-10 md:hidden justify-center">
                    <i class="fa fa-camera-retro text-primary text-3xl group-hover:rotate-12 transition-transform duration-300"></i>
                    <span class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary">光影同行</span>
                </a>
                
                <h2 class="text-3xl font-bold mb-2 text-center md:text-left">账号登录</h2>
                <p class="text-gray-500 mb-8 text-center md:text-left">登录您的账号，开始管理您的照片库</p>
                
                <!-- 登录表单 -->
                <form id="login-form" class="space-y-6">
                    <!-- 登录方式切换 -->
                    <div class="flex border rounded-lg overflow-hidden">
                        <button type="button" id="phone-login-btn" class="flex-1 py-3 px-4 bg-primary text-white font-medium transition-colors duration-300">
                            手机号登录
                        </button>
                        <button type="button" id="email-login-btn" class="flex-1 py-3 px-4 bg-white text-gray-700 font-medium transition-colors duration-300">
                            邮箱登录
                        </button>
                    </div>
                    
                    <!-- 手机号登录表单 -->
                    <div id="phone-login-form" class="space-y-4">
                        <div class="space-y-2">
                            <label for="phone" class="block text-sm font-medium text-gray-700">手机号</label>
                            <div class="relative">
                                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                                    <i class="fa fa-mobile"></i>
                                </span>
                                <input type="tel" id="phone" name="phone" class="w-full px-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-300" placeholder="请输入手机号码" required>
                            </div>
                        </div>
                        
                        <div class="space-y-2">
                            <div class="flex justify-between items-center">
                                <label for="phone-verification-code" class="block text-sm font-medium text-gray-700">验证码</label>
                                <button type="button" id="send-code-btn" class="text-primary text-sm font-medium hover:text-primary/80 transition-colors duration-300">
                                    获取验证码
                                </button>
                            </div>
                            <div class="relative">
                                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                                    <i class="fa fa-key"></i>
                                </span>
                                <input type="text" id="phone-verification-code" name="phone-verification-code" class="w-full px-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-300" placeholder="请输入验证码" required>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 邮箱登录表单 (默认隐藏) -->
                    <div id="email-login-form" class="space-y-4 hidden">
                        <div class="space-y-2">
                            <label for="email" class="block text-sm font-medium text-gray-700">邮箱</label>
                            <div class="relative">
                                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                                    <i class="fa fa-envelope"></i>
                                </span>
                                <input type="email" id="email" name="email" class="w-full px-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-300" placeholder="请输入邮箱地址" required>
                            </div>
                        </div>
                        
                        <div class="space-y-2">
                            <div class="flex justify-between items-center">
                                <label for="email-verification-code" class="block text-sm font-medium text-gray-700">验证码</label>
                                <button type="button" id="send-email-code-btn" class="text-primary text-sm font-medium hover:text-primary/80 transition-colors duration-300">
                                    获取验证码
                                </button>
                            </div>
                            <div class="relative">
                                <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                                    <i class="fa fa-key"></i>
                                </span>
                                <input type="text" id="email-verification-code" name="email-verification-code" class="w-full px-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-300" placeholder="请输入验证码" required>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 记住我 -->
                    <div class="flex items-center">
                        <input type="checkbox" id="remember-me" name="remember-me" class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded">
                        <label for="remember-me" class="ml-2 block text-sm text-gray-700">
                            记住我
                        </label>
                    </div>
                    
                    <!-- 登录按钮 -->
                    <button type="submit" id="login-submit-btn" class="w-full bg-primary hover:bg-primary/90 text-white font-medium py-3 px-4 rounded-lg transition-all duration-300 transform hover:scale-[1.02] shadow-md hover:shadow-lg flex items-center justify-center">
                        <span>登录</span>
                        <i class="fa fa-arrow-right ml-2"></i>
                    </button>
                </form>
                
                <!-- 其他登录方式 -->
                <div class="mt-8">
                    <div class="relative flex items-center justify-center">
                        <div class="flex-grow border-t border-gray-300"></div>
                        <span class="flex-shrink mx-4 text-gray-500">其他登录方式</span>
                        <div class="flex-grow border-t border-gray-300"></div>
                    </div>
                    
                    <div class="flex justify-center mt-6 space-x-6">
                        <button type="button" class="w-12 h-12 rounded-full bg-white border border-gray-300 flex items-center justify-center text-gray-700 hover:text-blue-500 hover:border-blue-500 transition-colors duration-300">
                            <i class="fa fa-weixin text-2xl"></i>
                        </button>
                        <button type="button" class="w-12 h-12 rounded-full bg-white border border-gray-300 flex items-center justify-center text-gray-700 hover:text-blue-600 hover:border-blue-600 transition-colors duration-300">
                            <i class="fa fa-qq text-2xl"></i>
                        </button>
                        <button type="button" class="w-12 h-12 rounded-full bg-white border border-gray-300 flex items-center justify-center text-gray-700 hover:text-red-500 hover:border-red-500 transition-colors duration-300">
                            <i class="fa fa-weibo text-2xl"></i>
                        </button>
                    </div>
                </div>
                
                <!-- 底部链接 -->
                <div class="mt-8 text-center">
                    <p class="text-gray-600">
                        还没有账号？ <a href="#" id="register-link" class="text-primary font-medium hover:text-primary/80 transition-colors duration-300">立即注册</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 注册模态框 (默认隐藏) -->
    <div id="register-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-md mx-auto overflow-hidden transform transition-all">
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold">注册账号</h3>
                    <button type="button" id="close-register-modal" class="text-gray-500 hover:text-gray-700">
                        <i class="fa fa-times text-xl"></i>
                    </button>
                </div>
                
                <!-- 注册方式切换 -->
                <div class="flex border rounded-lg overflow-hidden mb-6">
                    <button type="button" id="phone-register-btn" class="flex-1 py-3 px-4 bg-primary text-white font-medium transition-colors duration-300">
                        手机号注册
                    </button>
                    <button type="button" id="email-register-btn" class="flex-1 py-3 px-4 bg-white text-gray-700 font-medium transition-colors duration-300">
                        邮箱注册
                    </button>
                </div>
                
                <!-- 手机号注册表单 -->
                <form id="phone-register-form" class="space-y-4">
                    <div class="space-y-2">
                        <label for="register-phone" class="block text-sm font-medium text-gray-700">手机号</label>
                        <div class="relative">
                            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                                <i class="fa fa-mobile"></i>
                            </span>
                            <input type="tel" id="register-phone" name="register-phone" class="w-full px-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-300" placeholder="请输入手机号码" required>
                        </div>
                    </div>
                    
                    <div class="space-y-2">
                        <div class="flex justify-between items-center">
                            <label for="register-phone-code" class="block text-sm font-medium text-gray-700">验证码</label>
                            <button type="button" id="send-register-phone-code" class="text-primary text-sm font-medium hover:text-primary/80 transition-colors duration-300">
                                获取验证码
                            </button>
                        </div>
                        <div class="relative">
                            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                                <i class="fa fa-key"></i>
                            </span>
                            <input type="text" id="register-phone-code" name="register-phone-code" class="w-full px-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-300" placeholder="请输入验证码" required>
                        </div>
                    </div>
                    
                    <div class="space-y-2">
                        <label for="register-phone-password" class="block text-sm font-medium text-gray-700">设置密码</label>
                        <div class="relative">
                            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                                <i class="fa fa-lock"></i>
                            </span>
                            <input type="password" id="register-phone-password" name="register-phone-password" class="w-full px-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-300" placeholder="请设置6-20位密码" required>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <input type="checkbox" id="agree-terms-phone" name="agree-terms-phone" class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded mt-1">
                        <label for="agree-terms-phone" class="ml-2 block text-sm text-gray-700">
                            我已阅读并同意 <a href="#" class="text-primary">《用户协议》</a>和<a href="#" class="text-primary">《隐私政策》</a>
                        </label>
                    </div>
                    
                    <button type="submit" id="phone-register-submit" class="w-full bg-primary hover:bg-primary/90 text-white font-medium py-3 px-4 rounded-lg transition-all duration-300 transform hover:scale-[1.02] shadow-md hover:shadow-lg">
                        注册
                    </button>
                </form>
                
                <!-- 邮箱注册表单 (默认隐藏) -->
                <form id="email-register-form" class="space-y-4 hidden">
                    <div class="space-y-2">
                        <label for="register-email" class="block text-sm font-medium text-gray-700">邮箱</label>
                        <div class="relative">
                            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                                <i class="fa fa-envelope"></i>
                            </span>
                            <input type="email" id="register-email" name="register-email" class="w-full px-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-300" placeholder="请输入邮箱地址" required>
                        </div>
                    </div>
                    
                    <div class="space-y-2">
                        <div class="flex justify-between items-center">
                            <label for="register-email-code" class="block text-sm font-medium text-gray-700">验证码</label>
                            <button type="button" id="send-register-email-code" class="text-primary text-sm font-medium hover:text-primary/80 transition-colors duration-300">
                                获取验证码
                            </button>
                        </div>
                        <div class="relative">
                            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                                <i class="fa fa-key"></i>
                            </span>
                            <input type="text" id="register-email-code" name="register-email-code" class="w-full px-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-300" placeholder="请输入验证码" required>
                        </div>
                    </div>
                    
                    <div class="space-y-2">
                        <label for="register-email-password" class="block text-sm font-medium text-gray-700">设置密码</label>
                        <div class="relative">
                            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                                <i class="fa fa-lock"></i>
                            </span>
                            <input type="password" id="register-email-password" name="register-email-password" class="w-full px-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-300" placeholder="请设置6-20位密码" required>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <input type="checkbox" id="agree-terms-email" name="agree-terms-email" class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded mt-1">
                        <label for="agree-terms-email" class="ml-2 block text-sm text-gray-700">
                            我已阅读并同意 <a href="#" class="text-primary">《用户协议》</a>和<a href="#" class="text-primary">《隐私政策》</a>
                        </label>
                    </div>
                    
                    <button type="submit" id="email-register-submit" class="w-full bg-primary hover:bg-primary/90 text-white font-medium py-3 px-4 rounded-lg transition-all duration-300 transform hover:scale-[1.02] shadow-md hover:shadow-lg">
                        注册
                    </button>
                </form>
            </div>
        </div>
    </div>
    
    <!-- 提示框 -->
    <div id="notification" class="fixed top-4 right-4 bg-dark text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300 flex items-center">
        <i id="notification-icon" class="fa fa-check-circle mr-2"></i>
        <span id="notification-message"></span>
        <button type="button" id="close-notification" class="ml-4 text-gray-400 hover:text-white">
            <i class="fa fa-times"></i>
        </button>
    </div>
    
    <!-- JavaScript -->
    <script>
        // DOM 元素
        const phoneLoginBtn = document.getElementById('phone-login-btn');
        const emailLoginBtn = document.getElementById('email-login-btn');
        const phoneLoginForm = document.getElementById('phone-login-form');
        const emailLoginForm = document.getElementById('email-login-form');
        const loginForm = document.getElementById('login-form');
        const sendCodeBtn = document.getElementById('send-code-btn');
        const sendEmailCodeBtn = document.getElementById('send-email-code-btn');
        const registerLink = document.getElementById('register-link');
        const registerModal = document.getElementById('register-modal');
        const closeRegisterModal = document.getElementById('close-register-modal');
        const phoneRegisterBtn = document.getElementById('phone-register-btn');
        const emailRegisterBtn = document.getElementById('email-register-btn');
        const phoneRegisterForm = document.getElementById('phone-register-form');
        const emailRegisterForm = document.getElementById('email-register-form');
        const sendRegisterPhoneCode = document.getElementById('send-register-phone-code');
        const sendRegisterEmailCode = document.getElementById('send-register-email-code');
        const notification = document.getElementById('notification');
        const notificationMessage = document.getElementById('notification-message');
        const notificationIcon = document.getElementById('notification-icon');
        const closeNotification = document.getElementById('close-notification');
        
        // 显示通知
        function showNotification(message, icon = 'fa-info-circle', isError = false) {
            notificationMessage.textContent = message;
            notificationIcon.className = `fa ${icon} mr-2`;
            notification.className = isError 
                ? 'fixed top-4 right-4 bg-red-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-0 transition-transform duration-300 flex items-center' 
                : 'fixed top-4 right-4 bg-dark text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-0 transition-transform duration-300 flex items-center';
            
            // 3秒后自动关闭
            setTimeout(() => {
                hideNotification();
            }, 3000);
        }
        
        // 隐藏通知
        function hideNotification() {
            notification.className = 'fixed top-4 right-4 bg-dark text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300 flex items-center';
        }
        
        // 倒计时函数
        function startCountdown(button) {
            let seconds = 60;
            const originalText = button.textContent;
            button.disabled = true;
            button.classList.add('opacity-50', 'cursor-not-allowed');
            
            button.textContent = `${seconds}秒后重新获取`;
            
            const countdown = setInterval(() => {
                seconds--;
                button.textContent = `${seconds}秒后重新获取`;
                
                if (seconds <= 0) {
                    clearInterval(countdown);
                    button.textContent = originalText;
                    button.disabled = false;
                    button.classList.remove('opacity-50', 'cursor-not-allowed');
                }
            }, 1000);
        }
        
        // 验证手机号
        function validatePhone(phone) {
            const phoneRegex = /^1[3-9]\d{9}$/;
            return phoneRegex.test(phone);
        }
        
        // 验证邮箱
        function validateEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }
        
        // 验证密码
        function validatePassword(password) {
            return password.length >= 6 && password.length <= 20;
        }
        
        // 切换登录方式
        phoneLoginBtn.addEventListener('click', function() {
            phoneLoginBtn.classList.remove('bg-white', 'text-gray-700');
            phoneLoginBtn.classList.add('bg-primary', 'text-white');
            emailLoginBtn.classList.remove('bg-primary', 'text-white');
            emailLoginBtn.classList.add('bg-white', 'text-gray-700');
            phoneLoginForm.classList.remove('hidden');
            emailLoginForm.classList.add('hidden');
        });
        
        emailLoginBtn.addEventListener('click', function() {
            emailLoginBtn.classList.remove('bg-white', 'text-gray-700');
            emailLoginBtn.classList.add('bg-primary', 'text-white');
            phoneLoginBtn.classList.remove('bg-primary', 'text-white');
            phoneLoginBtn.classList.add('bg-white', 'text-gray-700');
            emailLoginForm.classList.remove('hidden');
            phoneLoginForm.classList.add('hidden');
        });
        
        // 切换注册方式
        phoneRegisterBtn.addEventListener('click', function() {
            phoneRegisterBtn.classList.remove('bg-white', 'text-gray-700');
            phoneRegisterBtn.classList.add('bg-primary', 'text-white');
            emailRegisterBtn.classList.remove('bg-primary', 'text-white');
            emailRegisterBtn.classList.add('bg-white', 'text-gray-700');
            phoneRegisterForm.classList.remove('hidden');
            emailRegisterForm.classList.add('hidden');
        });
        
        emailRegisterBtn.addEventListener('click', function() {
            emailRegisterBtn.classList.remove('bg-white', 'text-gray-700');
            emailRegisterBtn.classList.add('bg-primary', 'text-white');
            phoneRegisterBtn.classList.remove('bg-primary', 'text-white');
            phoneRegisterBtn.classList.add('bg-white', 'text-gray-700');
            emailRegisterForm.classList.remove('hidden');
            phoneRegisterForm.classList.add('hidden');
        });
        
        // 打开注册模态框
        registerLink.addEventListener('click', function(e) {
            e.preventDefault();
            registerModal.classList.remove('hidden');
            registerModal.classList.add('flex');
        });
        
        // 关闭注册模态框
        closeRegisterModal.addEventListener('click', function() {
            registerModal.classList.add('hidden');
            registerModal.classList.remove('flex');
        });
        
        // 点击模态框外部关闭
        registerModal.addEventListener('click', function(e) {
            if (e.target === registerModal) {
                registerModal.classList.add('hidden');
                registerModal.classList.remove('flex');
            }
        });
        
        // 关闭通知
        closeNotification.addEventListener('click', hideNotification);
        
        // 发送手机验证码
        sendCodeBtn.addEventListener('click', function() {
            const phone = document.getElementById('phone').value;
            
            if (!validatePhone(phone)) {
                showNotification('请输入有效的手机号码', 'fa-exclamation-circle', true);
                return;
            }
            
            // 模拟发送验证码
            console.log('发送验证码到手机:', phone);
            
            // 实际项目中这里应该调用API发送验证码
            simulateApiCall().then(() => {
                showNotification('验证码已发送，请注意查收');
                startCountdown(sendCodeBtn);
            }).catch(() => {
                showNotification('发送验证码失败，请稍后重试', 'fa-exclamation-circle', true);
            });
        });
        
        // 发送邮箱验证码
        sendEmailCodeBtn.addEventListener('click', function() {
            const email = document.getElementById('email').value;
            
            if (!validateEmail(email)) {
                showNotification('请输入有效的邮箱地址', 'fa-exclamation-circle', true);
                return;
            }
            
            // 模拟发送验证码
            console.log('发送验证码到邮箱:', email);
            
            // 实际项目中这里应该调用API发送验证码
            simulateApiCall().then(() => {
                showNotification('验证码已发送，请注意查收');
                startCountdown(sendEmailCodeBtn);
            }).catch(() => {
                showNotification('发送验证码失败，请稍后重试', 'fa-exclamation-circle', true);
            });
        });
        
        // 发送注册手机验证码
        sendRegisterPhoneCode.addEventListener('click', function() {
            const phone = document.getElementById('register-phone').value;
            
            if (!validatePhone(phone)) {
                showNotification('请输入有效的手机号码', 'fa-exclamation-circle', true);
                return;
            }
            
            // 模拟发送验证码
            console.log('发送注册验证码到手机:', phone);
            
            // 实际项目中这里应该调用API发送验证码
            simulateApiCall().then(() => {
                showNotification('验证码已发送，请注意查收');
                startCountdown(sendRegisterPhoneCode);
            }).catch(() => {
                showNotification('发送验证码失败，请稍后重试', 'fa-exclamation-circle', true);
            });
        });
        
        // 发送注册邮箱验证码
        sendRegisterEmailCode.addEventListener('click', function() {
            const email = document.getElementById('register-email').value;
            
            if (!validateEmail(email)) {
                showNotification('请输入有效的邮箱地址', 'fa-exclamation-circle', true);
                return;
            }
            
            // 模拟发送验证码
            console.log('发送注册验证码到邮箱:', email);
            
            // 实际项目中这里应该调用API发送验证码
            simulateApiCall().then(() => {
                showNotification('验证码已发送，请注意查收');
                startCountdown(sendRegisterEmailCode);
            }).catch(() => {
                showNotification('发送验证码失败，请稍后重试', 'fa-exclamation-circle', true);
            });
        });
        
        // 登录表单提交
        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            let isValid = true;
            let loginData = {};
            
            if (!phoneLoginForm.classList.contains('hidden')) {
                // 手机号登录
                const phone = document.getElementById('phone').value;
                const code = document.getElementById('phone-verification-code').value;
                const rememberMe = document.getElementById('remember-me').checked;
                
                if (!validatePhone(phone)) {
                    showNotification('请输入有效的手机号码', 'fa-exclamation-circle', true);
                    isValid = false;
                }
                
                if (!code || code.length !== 6 || !/^\d+$/.test(code)) {
                    showNotification('请输入6位数字验证码', 'fa-exclamation-circle', true);
                    isValid = false;
                }
                
                if (isValid) {
                    loginData = { phone, code, rememberMe };
                }
            } else {
                // 邮箱登录
                const email = document.getElementById('email').value;
                const code = document.getElementById('email-verification-code').value;
                const rememberMe = document.getElementById('remember-me').checked;
                
                if (!validateEmail(email)) {
                    showNotification('请输入有效的邮箱地址', 'fa-exclamation-circle', true);
                    isValid = false;
                }
                
                if (!code || code.length !== 6 || !/^\d+$/.test(code)) {
                    showNotification('请输入6位数字验证码', 'fa-exclamation-circle', true);
                    isValid = false;
                }
                
                if (isValid) {
                    loginData = { email, code, rememberMe };
                }
            }
            
            if (isValid) {
                // 模拟登录请求
                console.log('登录数据:', loginData);
                
                // 显示加载状态
                const loginSubmitBtn = document.getElementById('login-submit-btn');
                const originalText = loginSubmitBtn.innerHTML;
                loginSubmitBtn.disabled = true;
                loginSubmitBtn.innerHTML = '<i class="fa fa-spinner fa-spin mr-2"></i> 登录中...';
                
                // 实际项目中这里应该调用登录API
                simulateApiCall().then(() => {
                    // 登录成功，存储用户信息
                    localStorage.setItem('userLoggedIn', 'true');
                    
                    // 记住我功能
                    if (loginData.rememberMe) {
                        // 在实际项目中，这里可以设置cookie或localStorage来记住用户
                        console.log('记住用户登录状态');
                    }
                    
                    showNotification('登录成功，正在跳转...', 'fa-check-circle');
                    
                    // 跳转到主页
                    setTimeout(() => {
                        window.location.href = 'index.html';
                    }, 1500);
                }).catch(() => {
                    showNotification('登录失败，请检查您的账号信息', 'fa-exclamation-circle', true);
                    loginSubmitBtn.disabled = false;
                    loginSubmitBtn.innerHTML = originalText;
                });
            }
        });
        
        // 手机注册表单提交
        phoneRegisterForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            let isValid = true;
            
            const phone = document.getElementById('register-phone').value;
            const code = document.getElementById('register-phone-code').value;
            const password = document.getElementById('register-phone-password').value;
            const agreeTerms = document.getElementById('agree-terms-phone').checked;
            
            if (!validatePhone(phone)) {
                showNotification('请输入有效的手机号码', 'fa-exclamation-circle', true);
                isValid = false;
            }
            
            if (!code || code.length !== 6 || !/^\d+$/.test(code)) {
                showNotification('请输入6位数字验证码', 'fa-exclamation-circle', true);
                isValid = false;
            }
            
            if (!validatePassword(password)) {
                showNotification('密码长度应为6-20位', 'fa-exclamation-circle', true);
                isValid = false;
            }
            
            if (!agreeTerms) {
                showNotification('请阅读并同意用户协议和隐私政策', 'fa-exclamation-circle', true);
                isValid = false;
            }
            
            if (isValid) {
                const registerData = { phone, code, password };
                console.log('手机注册数据:', registerData);
                
                // 显示加载状态
                const submitBtn = document.getElementById('phone-register-submit');
                const originalText = submitBtn.innerHTML;
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<i class="fa fa-spinner fa-spin mr-2"></i> 注册中...';
                
                // 实际项目中这里应该调用注册API
                simulateApiCall().then(() => {
                    showNotification('注册成功，请登录', 'fa-check-circle');
                    registerModal.classList.add('hidden');
                    registerModal.classList.remove('flex');
                    
                    // 重置表单
                    phoneRegisterForm.reset();
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = originalText;
                }).catch(() => {
                    showNotification('注册失败，请稍后重试', 'fa-exclamation-circle', true);
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = originalText;
                });
            }
        });
        
        // 邮箱注册表单提交
        emailRegisterForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            let isValid = true;
            
            const email = document.getElementById('register-email').value;
            const code = document.getElementById('register-email-code').value;
            const password = document.getElementById('register-email-password').value;
            const agreeTerms = document.getElementById('agree-terms-email').checked;
            
            if (!validateEmail(email)) {
                showNotification('请输入有效的邮箱地址', 'fa-exclamation-circle', true);
                isValid = false;
            }
            
            if (!code || code.length !== 6 || !/^\d+$/.test(code)) {
                showNotification('请输入6位数字验证码', 'fa-exclamation-circle', true);
                isValid = false;
            }
            
            if (!validatePassword(password)) {
                showNotification('密码长度应为6-20位', 'fa-exclamation-circle', true);
                isValid = false;
            }
            
            if (!agreeTerms) {
                showNotification('请阅读并同意用户协议和隐私政策', 'fa-exclamation-circle', true);
                isValid = false;
            }
            
            if (isValid) {
                const registerData = { email, code, password };
                console.log('邮箱注册数据:', registerData);
                
                // 显示加载状态
                const submitBtn = document.getElementById('email-register-submit');
                const originalText = submitBtn.innerHTML;
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<i class="fa fa-spinner fa-spin mr-2"></i> 注册中...';
                
                // 实际项目中这里应该调用注册API
                simulateApiCall().then(() => {
                    showNotification('注册成功，请登录', 'fa-check-circle');
                    registerModal.classList.add('hidden');
                    registerModal.classList.remove('flex');
                    
                    // 重置表单
                    emailRegisterForm.reset();
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = originalText;
                }).catch(() => {
                    showNotification('注册失败，请稍后重试', 'fa-exclamation-circle', true);
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = originalText;
                });
            }
        });
        
        // 模拟API调用
        function simulateApiCall() {
            return new Promise((resolve, reject) => {
                // 模拟网络延迟
                setTimeout(() => {
                    // 随机成功或失败（实际项目中应该根据API返回结果）
                    const isSuccess = Math.random() > 0.2; // 80%成功率
                    if (isSuccess) {
                        resolve();
                    } else {
                        reject(new Error('API调用失败'));
                    }
                }, 1000);
            });
        }
        
        // 页面加载时检查登录状态
        document.addEventListener('DOMContentLoaded', function() {
            const isLoggedIn = localStorage.getItem('userLoggedIn') === 'true';
            if (isLoggedIn) {
                showNotification('您已登录，正在跳转...', 'fa-check-circle');
                setTimeout(() => {
                    window.location.href = 'index.html';
                }, 1500);
            }
            
            // 动画效果
            const elements = document.querySelectorAll('.slide-up, .fade-in');
            elements.forEach(element => {
                element.style.opacity = 1;
                if (element.classList.contains('slide-up')) {
                    element.style.transform = 'translateY(0)';
                }
            });
        });
    </script>
</body>
</html>